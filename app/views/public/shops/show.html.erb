<div>
  <%= @shop.name %><br>
  <%= @shop.latitude %><br>
  <%= @shop.address %>
</div>

<div id="map" style="height: 500px; width: 50%;">
  <script>
    let map;

  function initMap() {
    // geocoderを初期化
    geocoder = new google.maps.Geocoder()

    map = new google.maps.Map(document.getElementById('map'), {
      // コントローラーで定義した変数から緯度経度を呼び出し、マップの中心に表示
      center: {
        lat: gon.shop.latitude,
        lng: gon.shop.longitude
      },
      // マップの倍率はお好みで
      zoom: 18,
      mapTypeId: 'hybrid'
    });

    marker = new google.maps.Marker({
      // コントローラーで定義した変数から緯度経度を呼び出し、マーカーを立てる
      position: {
        lat: gon.shop.latitude,
        lng: gon.shop.longitude
      },
      map: map
    });
  }
  </script>

  <script async defer
      src="https://maps.googleapis.com/maps/api/js?v=3.exp&key=<%= ENV['GMAP_API'] %>&callback=initMap">
  </script>


</div>